/* empty css                *//* empty css              */import{aJ as J,_ as B,j as y,W as j,c as L,a as h,an as O,f as c,al as b,F as w,aK as C,am as T,ar as U,o as P,t as $,y as A,aL as M,aM as F,aN as R}from"./commonMain-Xy3T-ZGV.js";const K={appeal:{id:"1788398485289013250",title:"坡头区海盛路华",eventOverview:"坡头区",eventVO:{id:"2584",eventName:"物业管理",eventOverview:"坡头",allocateSug:"请贵"},deptVo:{deptId:"deptVo1011",deptName:"deptVo坡头区住"},gridTimeLimit:"",thirdPartyEventId:"214577304",thirdPartyEventName:"坡头区人民",delayNums:0},log:[{DistributionVO:{id:"1788405840513",deptName:"DistributionVO-deptName1",distributorName:"che",nickName:"陈",distributionObjVO:{deptId:"1011",deptName:"坡头区住"}}},{DistributionVO:{id:"17884047",deptName:"DistributionVO-deptName2",distributorName:"che",nickName:"陈",distributionObjVO:{deptId:"1012",deptName:"坡头区住33"}}}],simpleLog:[{DistributionVO:{content:"请阅处",test:[{name:"张三",ids:[{id:"5"},{id:"1"},{id:"2"}]}],mm:[{id:"99"},{id:"00"}]}},{DistributionVO:{content:"受理",test:[{name:"李四",ids:[{id:"6"},{id:"3"},{id:"4"}]}],mm:[{id:"88"},{id:"11"}]}}]};function G(d,i){const e=[],s=[];i=i.filter(Boolean);let o=Array.isArray(d)?d:[d];return o=o.filter(Boolean),o.forEach(v=>{const _=W(v,[...i]);e.push(..._.MAP_LIST),s.push(..._.VALUE_LIST)}),{mapList:e,valueList:s}}function W(d,i){const e=[],s=[],o={};i.forEach(n=>{v({prePath:"",lastSuffixPath:n,preInfo:d,ruleObj:o,fullPath:n})});function v({prePath:n,lastSuffixPath:t,preInfo:r,ruleObj:l,fullPath:u}){let{arrProp:m,suffixPath:p}=q(t);const f=n+m;if(m){l[f]||(l[f]=[]);const a=l[f];J(r,k(m),[]).forEach((S,g)=>{a[g]||(a[g]={}),v({prePath:f,lastSuffixPath:p,preInfo:S,ruleObj:a[g],fullPath:u})})}else p&&(l[u]=J(r,k(p),""))}const _=D();function D(){const n=t([o],[]);function t(r,l,u=null){if(!Array.isArray(r))return[];const m=l.shift()||[],p=[];return r.forEach(f=>{const a=u?{...u}:{},V=[];Object.entries(f).forEach(([x,N])=>{Array.isArray(N)?N.length&&V.push(N):a[x]=N});const S=t(V.shift(),V,a),g=t(m,[...l],a),E=[S,g].filter(x=>x.length),I=t(E.shift(),E,a);I.length?p.push(...I):p.push(a)}),p}return n}return _.forEach(n=>{const t={},r=[];i.forEach(l=>{const u=n[l]||"";t[l]=u,r.push(u)}),s.push(t),e.push(r)}),{MAP_LIST:s,VALUE_LIST:e,RULE_OBJ:o}}function q(d){const i=/(?<arrProp>((?!\[\*\]).)+\[\*\])?(?<less>.*)$/,e=d.match(i);return{arrProp:e==null?void 0:e.groups.arrProp,suffixPath:e==null?void 0:e.groups.less}}function k(d){return d.replace(/^\$?\./,"").replace(/\[\*\]$/,"")}const z={class:"flex",style:{gap:"24px","margin-bottom":"24px"}},H={class:"flex-1"},Q={class:"flex-1"},X={key:0,style:{overflow:"auto"}},Y={key:0},Z={key:0},tt={__name:"index",setup(d){const i=y(JSON.stringify(K)),e=y(JSON.stringify(["$.appeal.id","$.appeal.title","$.appeal.eventVO.id","$.appeal.eventVO.eventName","$.appeal.deptVo.deptId","$.appeal.deptVo.deptName","$.log[*].DistributionVO.id","$.log[*].DistributionVO.distributorName","$.log[*].DistributionVO.deptName","$.log[*].DistributionVO.distributionObjVO.deptId","$.log[*].DistributionVO.distributionObjVO.deptName","$.simpleLog[*].DistributionVO.content","$.simpleLog[*].DistributionVO.test[*].name","$.simpleLog[*].DistributionVO.test[*].ids[*].id","$.simpleLog[*].DistributionVO.mm[*].id"])),s=y({valueList:[],mapList:[]}),o=y(!1);function v(){i.value=JSON.stringify(JSON.parse(i.value),null,2)}function _(){e.value=JSON.stringify(JSON.parse(e.value),null,2)}j(()=>{v(),_()});function D(){let n={},t=[];try{n=JSON.parse(i.value)}catch{n={}}try{t=JSON.parse(e.value)}catch{t=[]}s.value=G([n],t),o.value=!0}return(n,t)=>{const r=C,l=T,u=M,m=F,p=R,f=U;return P(),L(w,null,[h("div",z,[h("div",H,[O(" 详情对象： "),c(r,{value:i.value,"onUpdate:value":t[0]||(t[0]=a=>i.value=a),rows:30,onBlur:v},null,8,["value"])]),h("div",Q,[O(" 规则数组： "),c(r,{value:e.value,"onUpdate:value":t[1]||(t[1]=a=>e.value=a),rows:30,onBlur:_},null,8,["value"])])]),c(l,{type:"primary",onClick:D},{default:b(()=>[O(" 查看结果 ")]),_:1}),c(f,{visible:o.value,"onUpdate:visible":t[2]||(t[2]=a=>o.value=a),title:"结果",onOk:t[3]||(t[3]=a=>o.value=!1),width:"100%",wrapClassName:"full-modal"},{default:b(()=>[o.value?(P(),L("div",X,[c(p,null,{default:b(()=>[c(m,{key:"2",header:"valueList",disabled:!1},{default:b(()=>[s.value.valueList?(P(),L("div",Y,[h("div",null,[c(u,{color:"#108ee9"},{default:b(()=>[O("结果条数")]),_:1}),O(": "+$(s.value.valueList.length),1)]),h("pre",null,$(JSON.stringify(s.value.valueList).replace(/\],\[/g,`],
[`).replace(/","/g,'", "')),1)])):A("",!0)]),_:1}),c(m,{key:"3",header:"mapList"},{default:b(()=>[s.value.mapList?(P(),L("div",Z,[h("div",null,[c(u,{color:"#108ee9"},{default:b(()=>[O("结果条数")]),_:1}),O(": "+$(s.value.mapList.length),1)]),h("pre",null,$(JSON.stringify(s.value.mapList,null,2)),1)])):A("",!0)]),_:1})]),_:1})])):A("",!0)]),_:1},8,["visible"])],64)}}},st=B(tt,[["__scopeId","data-v-b7544759"]]);export{st as default};
