/* empty css                *//* empty css              */import{aJ as B,_ as I,j as L,W as w,c as P,a as h,an as b,f as c,al as N,F as C,aK as T,am as U,ar as M,o as $,t as S,y as A,aL as F,aM as R,aN as K}from"./commonMain-DAAUsnTm.js";const G={appeal:{id:"1788398485289013250",title:"坡头区海盛路华",eventOverview:"坡头区",eventVO:{id:"2584",eventName:"物业管理",eventOverview:"坡头",allocateSug:"请贵"},deptVo:{deptId:"deptVo1011",deptName:"deptVo坡头区住"},gridTimeLimit:"",thirdPartyEventId:"214577304",thirdPartyEventName:"坡头区人民",delayNums:0},log:[{DistributionVO:{id:"1788405840513",deptName:"DistributionVO-deptName1",distributorName:"che",nickName:"陈",distributionObjVO:{deptId:"1011",deptName:"坡头区住"}}},{DistributionVO:{id:"17884047",deptName:"DistributionVO-deptName2",distributorName:"che",nickName:"陈",distributionObjVO:{deptId:"1012",deptName:"坡头区住33"}}}],simpleLog:[{DistributionVO:{content:"请阅处",test:[{name:"张三",ids:[{id:"5"},{id:"1"},{id:"2"}]}],mm:[{id:"99"},{id:"00"}]}},{DistributionVO:{content:"受理",test:[{name:"李四",ids:[{id:"6"},{id:"3"},{id:"4"}]}],mm:[{id:"88"},{id:"11"}]}}]};function W(u,i){const a=[],o=[];i=i.filter(Boolean);let n=Array.isArray(u)?u:[u];return n=n.filter(Boolean),n.forEach(v=>{const _=q(v,[...i]);a.push(..._.MAP_LIST),o.push(..._.VALUE_LIST)}),{mapList:a,valueList:o}}function q(u,i){const a=[],o=[],n={};i.forEach(r=>{v({prePath:"",lastSuffixPath:r,preInfo:u,ruleObj:n,fullPath:r})});function v({prePath:r,lastSuffixPath:t,preInfo:s,ruleObj:l,fullPath:d}){if(!J(s)){l[d]=s;return}let{arrProp:m,suffixPath:p}=z(t);const f=r+m;if(m){l[f]||(l[f]=[]);const e=l[f];let g=B(s,j(m),[]);p||(g=g.map(O=>J(O)?JSON.stringify(O):O)),g.forEach((O,V)=>{e[V]||(e[V]={}),v({prePath:f,lastSuffixPath:p,preInfo:O,ruleObj:e[V],fullPath:d})})}else if(p){let e=B(s,j(p),"");l[d]=J(e)?JSON.stringify(e):e}}const _=D();function D(){const r=t([n],[]);function t(s,l,d=null){if(!Array.isArray(s))return[];const m=l.shift()||[],p=[];return s.forEach(f=>{const e=d?{...d}:{},g=[];Object.entries(f).forEach(([x,y])=>{Array.isArray(y)?y.length&&g.push(y):e[x]=y});const O=t(g.shift(),g,e),V=t(m,[...l],e),E=[O,V].filter(x=>x.length),k=t(E.shift(),E,e);k.length?p.push(...k):p.push(e)}),p}return r}return _.forEach(r=>{const t={},s=[];i.forEach(l=>{const d=r[l]||"";t[l]=d,s.push(d)}),o.push(t),a.push(s)}),{MAP_LIST:o,VALUE_LIST:a,RULE_OBJ:n}}function z(u){const i=/(?<arrProp>((?!\[\*\]).)+\[\*\])?(?<less>.*)$/,a=u.match(i);return{arrProp:a==null?void 0:a.groups.arrProp,suffixPath:a==null?void 0:a.groups.less}}function j(u){return u.replace(/^\$?\./,"").replace(/\[\*\]$/,"")}function J(u){const i=Object.prototype.toString.call(u).slice(8,-1).toLowerCase();return i==="array"||i==="object"}const H={class:"flex",style:{gap:"24px","margin-bottom":"24px"}},Q={class:"flex-1"},X={class:"flex-1"},Y={key:0,style:{overflow:"auto"}},Z={key:0},tt={key:0},et={__name:"index",setup(u){const i=L(JSON.stringify(G)),a=L(JSON.stringify(["$.appeal.id","$.appeal.title","$.appeal.eventVO.id","$.appeal.eventVO.eventName","$.appeal.deptVo.deptId","$.appeal.deptVo.deptName","$.log[*].DistributionVO.id","$.log[*].DistributionVO.distributorName","$.log[*].DistributionVO.deptName","$.log[*].DistributionVO.distributionObjVO.deptId","$.log[*].DistributionVO.distributionObjVO.deptName","$.simpleLog[*].DistributionVO.content","$.simpleLog[*].DistributionVO.test[*].name","$.simpleLog[*].DistributionVO.test[*].ids[*].id","$.simpleLog[*].DistributionVO.mm[*].id","$.simpleLog[*].DistributionVO.mm[*]","$.simpleLog[*]","$.simpleLog"])),o=L({valueList:[],mapList:[]}),n=L(!1);function v(){i.value=JSON.stringify(JSON.parse(i.value),null,2)}function _(){a.value=JSON.stringify(JSON.parse(a.value),null,2)}w(()=>{v(),_()});function D(){let r={},t=[];try{r=JSON.parse(i.value)}catch{r={}}try{t=JSON.parse(a.value)}catch{t=[]}o.value=W(r,t),n.value=!0}return(r,t)=>{const s=T,l=U,d=F,m=R,p=K,f=M;return $(),P(C,null,[h("div",H,[h("div",Q,[b(" 详情对象： "),c(s,{value:i.value,"onUpdate:value":t[0]||(t[0]=e=>i.value=e),rows:30,onBlur:v},null,8,["value"])]),h("div",X,[b(" 规则数组： "),c(s,{value:a.value,"onUpdate:value":t[1]||(t[1]=e=>a.value=e),rows:30,onBlur:_},null,8,["value"])])]),c(l,{type:"primary",onClick:D},{default:N(()=>[b(" 查看结果 ")]),_:1}),c(f,{visible:n.value,"onUpdate:visible":t[2]||(t[2]=e=>n.value=e),title:"结果",onOk:t[3]||(t[3]=e=>n.value=!1),width:"100%",wrapClassName:"full-modal"},{default:N(()=>[n.value?($(),P("div",Y,[c(p,null,{default:N(()=>[c(m,{key:"2",header:"valueList",disabled:!1},{default:N(()=>[o.value.valueList?($(),P("div",Z,[h("div",null,[c(d,{color:"#108ee9"},{default:N(()=>[b("结果条数")]),_:1}),b(": "+S(o.value.valueList.length),1)]),h("pre",null,S(JSON.stringify(o.value.valueList).replace(/\],\[/g,`],
[`).replace(/","/g,'", "')),1)])):A("",!0)]),_:1}),c(m,{key:"3",header:"mapList"},{default:N(()=>[o.value.mapList?($(),P("div",tt,[h("div",null,[c(d,{color:"#108ee9"},{default:N(()=>[b("结果条数")]),_:1}),b(": "+S(o.value.mapList.length),1)]),h("pre",null,S(JSON.stringify(o.value.mapList,null,2)),1)])):A("",!0)]),_:1})]),_:1})])):A("",!0)]),_:1},8,["visible"])],64)}}},ot=I(et,[["__scopeId","data-v-b6807847"]]);export{ot as default};
