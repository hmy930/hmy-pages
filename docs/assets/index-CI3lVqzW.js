/* empty css                *//* empty css              *//* empty css              */import{aJ as k,_ as I,j as y,W as C,c as E,a as L,an as D,f,al as N,F as R,aK as T,aL as U,ar as F,o as j,t as w,y as M,aM as K,am as G,aN as W,aO as q,aP as z}from"./commonMain-C4uPg2s6.js";const H={appeal:{id:"1788398485289013250",title:"坡头区海盛路华",eventOverview:"坡头区",eventVO:{id:"2584",eventName:"物业管理",eventOverview:"坡头",allocateSug:"请贵"},deptVo:{deptId:"deptVo1011",deptName:"deptVo坡头区住"},gridTimeLimit:"",thirdPartyEventId:"214577304",thirdPartyEventName:"坡头区人民",delayNums:0},log:[{DistributionVO:{id:"1788405840513",deptName:"DistributionVO-deptName1",distributorName:"che",nickName:"陈",distributionObjVO:{deptId:"1011",deptName:"坡头区住"}}},{DistributionVO:{id:"17884047",deptName:"DistributionVO-deptName2",distributorName:"che",nickName:"陈",distributionObjVO:{deptId:"1012",deptName:"坡头区住33"}}}],simpleLog:[{DistributionVO:{content:"请阅处",test:[{name:"张三",ids:[{id:"5"},{id:"1"},{id:"2"}]}],mm:[{id:"99"},{id:"00"}]}},{DistributionVO:{content:"受理",test:[{name:"李四",ids:[{id:"6"},{id:"3"},{id:"4"}]}],mm:[{id:"88"},{id:"11"}]}}]};function Q(p,e,a){const c=[],_=[];e=e.filter(Boolean);let r=Array.isArray(p)?p:[p];return r=r.filter(Boolean),r.forEach(h=>{const O=X(h,[...e],a);c.push(...O.MAP_LIST),_.push(...O.VALUE_LIST)}),{mapList:c,valueList:_}}function X(p,e,a){const c=[],_=[],r={};e.forEach(t=>{h({prePath:"",lastSuffixPath:t,preInfo:p,ruleObj:r,fullPath:t})});function h({prePath:t,lastSuffixPath:o,preInfo:l,ruleObj:u,fullPath:n}){if(!x(l)){u[n]=l;return}let{arrProp:m,suffixPath:d}=Y(o);const v=t+m;if(m){u[v]||(u[v]=[]);const s=u[v];let i=k(l,B(m),[]);d||(i=i.map(b=>x(b)?JSON.stringify(b):b)),i.forEach((b,V)=>{s[V]||(s[V]={}),h({prePath:v,lastSuffixPath:d,preInfo:b,ruleObj:s[V],fullPath:n})})}else if(d){let s=k(l,B(d),"");u[n]=x(s)?JSON.stringify(s):s}}const O=P();function P(){const t=o([r],[]);function o(l,u,n=null){if(!Array.isArray(l))return[];const m=u.shift()||[],d=[];return l.forEach(v=>{const s=n?{...n}:{},i=[];Object.entries(v).forEach(([S,$])=>{Array.isArray($)?$.length&&i.push($):s[S]=$});const b=o(i.shift(),i,s),V=o(m,[...u],s),J=[b,V].filter(S=>S.length),A=o(J.shift(),J,s);A.length?d.push(...A):d.push(s)}),d}return t}const g=new Set;return O.forEach(t=>{const o={},l=[];e.forEach(n=>{const m=t[n]||"";o[n]=m,l.push(m)});let u=!1;if(a){const n=JSON.stringify(l);g.has(n)?u=!0:g.add(n)}u||(_.push(o),c.push(l))}),{MAP_LIST:_,VALUE_LIST:c,RULE_OBJ:r}}function Y(p){const e=/(?<arrProp>((?!\[\*\]).)+\[\*\])?(?<less>.*)$/,a=p.match(e);return{arrProp:a==null?void 0:a.groups.arrProp,suffixPath:a==null?void 0:a.groups.less}}function B(p){return p.replace(/^\$?\./,"").replace(/\[\*\]$/,"")}function x(p){const e=Object.prototype.toString.call(p).slice(8,-1).toLowerCase();return e==="array"||e==="object"}const Z={class:"flex",style:{gap:"24px","margin-bottom":"24px"}},tt={class:"flex-1"},et={class:"flex-1"},at={key:0,style:{overflow:"auto"}},it={__name:"index",setup(p){const e=y(JSON.stringify(H)),a=y(JSON.stringify(["$.appeal.id","$.appeal.title","$.appeal.eventVO.id","$.appeal.eventVO.eventName","$.appeal.deptVo.deptId","$.appeal.deptVo.deptName","$.log[*].DistributionVO.id","$.log[*].DistributionVO.distributorName","$.log[*].DistributionVO.deptName","$.log[*].DistributionVO.distributionObjVO.deptId","$.log[*].DistributionVO.distributionObjVO.deptName","$.simpleLog[*].DistributionVO.content","$.simpleLog[*].DistributionVO.test[*].name","$.simpleLog[*].DistributionVO.test[*].ids[*].id","$.simpleLog[*].DistributionVO.mm[*].id","$.simpleLog[*].DistributionVO.mm[*]","$.simpleLog[*]","$.simpleLog"])),c=y({valueList:[],mapList:[]}),_=y(!1),r=y(!1);function h(){e.value=JSON.stringify(JSON.parse(e.value),null,2)}function O(){a.value=JSON.stringify(JSON.parse(a.value),null,2)}C(()=>{h(),O()});function P(){let g={},t=[];try{g=JSON.parse(e.value)}catch{g={}}try{t=JSON.parse(a.value)}catch{t=[]}c.value=Q(g,t,_.value),r.value=!0}return(g,t)=>{const o=T,l=K,u=G,n=W,m=U,d=q,v=z,s=F;return j(),E(R,null,[L("div",Z,[L("div",tt,[D(" 详情对象： "),f(o,{value:e.value,"onUpdate:value":t[0]||(t[0]=i=>e.value=i),rows:30,onBlur:h},null,8,["value"])]),L("div",et,[D(" 规则数组： "),f(o,{value:a.value,"onUpdate:value":t[1]||(t[1]=i=>a.value=i),rows:30,onBlur:O},null,8,["value"])])]),f(m,null,{default:N(()=>[f(n,{label:"去重"},{default:N(()=>[f(l,{checked:_.value,"onUpdate:checked":t[2]||(t[2]=i=>_.value=i)},null,8,["checked"]),f(u,{style:{"margin-left":"30px"},type:"primary",onClick:P},{default:N(()=>[D(" 查看结果 ")]),_:1})]),_:1})]),_:1}),f(s,{visible:r.value,"onUpdate:visible":t[3]||(t[3]=i=>r.value=i),title:"结果",onOk:t[4]||(t[4]=i=>r.value=!1),width:"100%",wrapClassName:"full-modal"},{default:N(()=>[r.value?(j(),E("div",at,[f(v,null,{default:N(()=>[f(d,{key:"2",header:`valueList：${c.value.valueList.length}条`,disabled:!1},{default:N(()=>[L("pre",null,w(JSON.stringify(c.value.valueList).replace(/\],\[/g,`],
[`).replace(/","/g,'", "')),1)]),_:1},8,["header"]),f(d,{key:"3",header:`mapList：${c.value.mapList.length}条`},{default:N(()=>[L("pre",null,w(JSON.stringify(c.value.mapList,null,2)),1)]),_:1},8,["header"])]),_:1})])):M("",!0)]),_:1},8,["visible"])],64)}}},lt=I(it,[["__scopeId","data-v-5ab7b027"]]);export{lt as default};
